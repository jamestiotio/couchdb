<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="920" height="1211pt" viewBox="0 0 689.5 1211.34"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1207.34)"><title>G</title><g id="clust1" class="cluster"><title>cluster_usable_indexes</title><polygon fill="none" stroke="#000" points="8 -744.48 8 -975.34 459 -975.34 459 -744.48 8 -744.48"/><text x="233.5" y="-958.04" font-family="Times,serif" font-size="14" text-anchor="middle">Usable indexes</text></g><g id="node1" class="node"><title>d0</title><polygon fill="#d3d3d3" stroke="#000" points="264 -942.84 192.83 -924.84 264 -906.84 335.17 -924.84 264 -942.84"/><text x="264" y="-919.79" font-family="Times,serif" font-size="14" text-anchor="middle">Index type</text></g><g id="node2" class="node"><title>usability_checks_special</title><polygon fill="#d3d3d3" stroke="#000" points="157.62 -840.34 16.38 -840.34 16.38 -804.34 157.62 -804.34 157.62 -840.34"/><text x="41.62" y="-824.04" font-family="Times,serif" font-size="14" text-anchor="start">Include if usable</text><text x="24.38" y="-810.04" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="28.88" y="-810.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">sort_order_mismatch</text><text x="145.12" y="-810.04" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="edge1" class="edge"><title>d0-&gt;usability_checks_special</title><path fill="none" stroke="#000" d="M243,-911.92C214.5,-895.74 163.02,-866.5 127.02,-846.06"/><polygon fill="#000" stroke="#000" points="129.19 -842.7 118.76 -840.81 125.73 -848.79 129.19 -842.7"/><text x="201" y="-876.54" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">special</text></g><g id="node3" class="node"><title>usability_checks_text</title><polygon fill="#d3d3d3" stroke="#000" points="296.5 -854.34 175.5 -854.34 175.5 -790.34 296.5 -790.34 296.5 -854.34"/><text x="183.5" y="-838.04" font-family="Times,serif" font-size="14" text-anchor="start">Include if available</text><text x="207.12" y="-824.04" font-family="Times,serif" font-size="14" text-anchor="start">and usable</text><text x="190.62" y="-810.04" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="195.12" y="-810.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">field_mismatch</text><text x="277.62" y="-810.04" font-family="Times,serif" font-size="14" text-anchor="start">,</text><text x="192.88" y="-796.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">empty_selector</text><text x="274.62" y="-796.04" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="edge2" class="edge"><title>d0-&gt;usability_checks_text</title><path fill="none" stroke="#000" d="M259.5,-907.69C256.26,-896.06 251.73,-879.82 247.52,-864.68"/><polygon fill="#000" stroke="#000" points="250.72 -864.15 244.67 -855.45 243.98 -866.03 250.72 -864.15"/><text x="254" y="-876.54" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">text</text></g><g id="node4" class="node"><title>usability_checks_view</title><polygon fill="#d3d3d3" stroke="#000" points="451 -854.34 315 -854.34 315 -790.34 451 -790.34 451 -854.34"/><text x="341.75" y="-838.04" font-family="Times,serif" font-size="14" text-anchor="start">Usable indexes</text><text x="337.62" y="-824.04" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="342.12" y="-824.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">field_mismatch</text><text x="424.62" y="-824.04" font-family="Times,serif" font-size="14" text-anchor="start">,</text><text x="323" y="-810.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">sort_order_mismatch</text><text x="439.25" y="-810.04" font-family="Times,serif" font-size="14" text-anchor="start">,</text><text x="330.88" y="-796.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">needs_text_search</text><text x="430.62" y="-796.04" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="edge3" class="edge"><title>d0-&gt;usability_checks_view</title><path fill="none" stroke="#000" d="M279.56,-910.7C294.29,-898.26 317.13,-878.97 337.61,-861.67"/><polygon fill="#000" stroke="#000" points="339.53 -863.79 344.91 -854.66 335.02 -858.44 339.53 -863.79"/><text x="323" y="-876.54" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">json</text></g><g id="node5" class="node"><title>d1</title><ellipse cx="309" cy="-752.84" fill="#000" stroke="#000" rx=".36" ry=".36"/></g><g id="edge4" class="edge"><title>usability_checks_special-&gt;d1</title><path fill="none" stroke="#000" d="M129.44,-803.85C141.48,-799.18 154.67,-794.32 167,-790.34 226.15,-771.24 301.55,-754.94 308.48,-753.45"/></g><g id="edge5" class="edge"><title>usability_checks_text-&gt;d1</title><path fill="none" stroke="#000" d="M269.51,-790.13C287.5,-773.37 306.47,-755.7 308.77,-753.56"/></g><g id="edge6" class="edge"><title>usability_checks_view-&gt;d1</title><path fill="none" stroke="#000" d="M349.03,-790.13C330.79,-773.37 311.57,-755.7 309.24,-753.56"/></g><g id="node9" class="node"><title>user_specified</title><polygon fill="#d3d3d3" stroke="#000" points="357 -715.34 177.5 -674.34 357 -633.34 536.5 -674.34 357 -715.34"/><text x="357" y="-677.54" font-family="Times,serif" font-size="14" text-anchor="middle">Is there a user-specified index</text><text x="357" y="-661.04" font-family="Times,serif" font-size="14" text-anchor="middle">and is it usable or partial?</text></g><g id="edge10" class="edge"><title>d1-&gt;user_specified</title><path fill="none" stroke="#000" d="M309.03,-751.79C309.67,-750.77 318.97,-735.96 329.21,-719.63"/><polygon fill="#000" stroke="#000" points="332.59 -721.82 334.94 -711.49 326.67 -718.1 332.59 -721.82"/></g><g id="node6" class="node"><title>all</title><polygon fill="#d3d3d3" stroke="#000" points="499.38 -1203.34 368.62 -1203.34 368.62 -1162.34 499.38 -1162.34 499.38 -1203.34"/><text x="434" y="-1186.04" font-family="Times,serif" font-size="14" text-anchor="middle">All available indexes</text><text x="434" y="-1169.54" font-family="Times,serif" font-size="14" text-anchor="middle">for the database</text></g><g id="node7" class="node"><title>non_partial</title><polygon fill="#d3d3d3" stroke="#000" points="450.62 -1125.34 327.38 -1125.34 327.38 -1089.34 450.62 -1089.34 450.62 -1125.34"/><text x="335.38" y="-1109.04" font-family="Times,serif" font-size="14" text-anchor="start">Non-partial indexes</text><text x="358.25" y="-1095.04" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="362.75" y="-1095.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">is_partial</text><text x="415.25" y="-1095.04" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="edge7" class="edge"><title>all-&gt;non_partial</title><path fill="none" stroke="#000" d="M421.94,-1162.14C416.82,-1153.77 410.76,-1143.89 405.26,-1134.89"/><polygon fill="#000" stroke="#000" points="407.77 -1133.29 399.56 -1126.59 401.8 -1136.94 407.77 -1133.29"/></g><g id="edge11" class="edge"><title>all-&gt;user_specified</title><path fill="none" stroke="#000" d="M454.39,-1161.94C466.3,-1148.16 479,-1128.69 479,-1108.34 479,-1108.34 479,-1108.34 479,-751.84 479,-730.03 464.84,-714.21 446.16,-702.81"/><polygon fill="#000" stroke="#000" points="448.12 -699.34 437.67 -697.57 444.73 -705.47 448.12 -699.34"/></g><g id="node8" class="node"><title>scoped</title><polygon fill="#d3d3d3" stroke="#000" points="413.25 -1052.34 284.75 -1052.34 284.75 -1002.34 413.25 -1002.34 413.25 -1052.34"/><text x="306.62" y="-1036.04" font-family="Times,serif" font-size="14" text-anchor="start">Scoped indexes</text><text x="292.75" y="-1022.04" font-family="Times,serif" font-size="14" text-anchor="start">(global / partitioned)</text><text x="299.88" y="-1008.04" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="304.38" y="-1008.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">scope_mismatch</text><text x="393.62" y="-1008.04" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="edge8" class="edge"><title>non_partial-&gt;scoped</title><path fill="none" stroke="#000" d="M380.12,-1089.03C376.1,-1081.19 371.2,-1071.62 366.48,-1062.43"/><polygon fill="#000" stroke="#000" points="369.17 -1061 361.49 -1053.7 362.94 -1064.2 369.17 -1061"/></g><g id="edge9" class="edge"><title>scoped-&gt;d0</title><path fill="none" stroke="#000" d="M328.42,-1002.01C312.01,-982.61 289.6,-956.11 276,-940.02"/></g><g id="node10" class="node"><title>selected</title><ellipse cx="476" cy="-65.17" fill="#d3d3d3" stroke="#000" rx="65.17" ry="65.17"/><text x="476" y="-60.12" font-family="Times,serif" font-size="14" text-anchor="middle">Selected index</text></g><g id="edge12" class="edge"><title>user_specified-&gt;selected</title><path fill="none" stroke="#000" d="M349,-634.69C345,-612.1 341,-582.97 341,-556.84 341,-556.84 341,-556.84 341,-198.34 341,-156.34 374.78,-123.28 408.54,-100.74"/><polygon fill="#000" stroke="#000" points="410.05 -103.29 416.57 -94.95 406.27 -97.4 410.05 -103.29"/><text x="384.12" y="-382.04" font-family="Times,serif" font-size="14" text-anchor="start">Yes</text><text x="341" y="-368.04" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="345.5" y="-368.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">excluded_by_user</text><text x="443" y="-368.04" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="node11" class="node"><title>preferred</title><polygon fill="#d3d3d3" stroke="#000" points="547 -580.84 381 -580.84 381 -530.84 547 -530.84 547 -580.84"/><text x="389" y="-564.54" font-family="Times,serif" font-size="14" text-anchor="start">Indexes with preferred type</text><text x="403.62" y="-550.54" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="408.12" y="-550.54" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">json</text><text x="430.62" y="-550.54" font-family="Times,serif" font-size="14" text-anchor="start">&gt;</text><text x="446.38" y="-550.54" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">text</text><text x="465.88" y="-550.54" font-family="Times,serif" font-size="14" text-anchor="start">&gt;</text><text x="481.62" y="-550.54" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">special</text><text x="519.88" y="-550.54" font-family="Times,serif" font-size="14" text-anchor="start">)</text><text x="417.5" y="-536.54" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="422" y="-536.54" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">unfavored_type</text><text x="506" y="-536.54" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="edge13" class="edge"><title>user_specified-&gt;preferred</title><path fill="none" stroke="#000" d="M387.66,-639.96C402.39,-623.92 419.95,-604.8 434.52,-588.94"/><polygon fill="#000" stroke="#000" points="436.65 -591.71 440.83 -581.97 431.49 -586.97 436.65 -591.71"/><text x="431.25" y="-602.04" font-family="Times,serif" font-size="14" text-anchor="middle">No</text></g><g id="node12" class="node"><title>is_json</title><polygon fill="#d3d3d3" stroke="#000" points="476 -493.84 404.83 -475.84 476 -457.84 547.17 -475.84 476 -493.84"/><text x="476" y="-470.79" font-family="Times,serif" font-size="14" text-anchor="middle">Index type</text></g><g id="edge14" class="edge"><title>preferred-&gt;is_json</title><path fill="none" stroke="#000" d="M467.73,-530.59C469.01,-522.25 470.46,-512.87 471.78,-504.3"/><polygon fill="#000" stroke="#000" points="475.35 -505.08 473.41 -494.66 468.43 -504.01 475.35 -505.08"/></g><g id="edge15" class="edge"><title>is_json-&gt;selected</title><path fill="none" stroke="#000" d="M476,-457.61C476,-438.85 476,-407.96 476,-381.34 476,-381.34 476,-381.34 476,-198.34 476,-179.93 476,-160.07 476,-141.48"/><polygon fill="#000" stroke="#000" points="479.5 -141.71 476 -131.71 472.5 -141.71 479.5 -141.71"/><text x="476" y="-295.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">special</text><text x="514.25" y="-295.04" font-family="Times,serif" font-size="14" text-anchor="start">/</text><text x="489.12" y="-281.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">text</text></g><g id="node13" class="node"><title>closest_match</title><polygon fill="#d3d3d3" stroke="#000" points="633.25 -405.34 522.75 -405.34 522.75 -355.34 633.25 -355.34 633.25 -405.34"/><text x="543.12" y="-389.04" font-family="Times,serif" font-size="14" text-anchor="start">Indexes with</text><text x="530.75" y="-375.04" font-family="Times,serif" font-size="14" text-anchor="start">the closest match</text><text x="539.38" y="-361.04" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="543.88" y="-361.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">less_overlap</text><text x="612.12" y="-361.04" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="edge16" class="edge"><title>is_json-&gt;closest_match</title><path fill="none" stroke="#000" d="M490.61,-461.44C504.37,-448.83 525.5,-429.47 543.54,-412.93"/><polygon fill="#000" stroke="#000" points="545.56 -415.91 550.57 -406.57 540.83 -410.75 545.56 -415.91"/><text x="530" y="-427.54" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">json</text></g><g id="node14" class="node"><title>least_fields</title><polygon fill="#d3d3d3" stroke="#000" points="654.12 -318.34 539.88 -318.34 539.88 -268.34 654.12 -268.34 654.12 -318.34"/><text x="562.12" y="-302.04" font-family="Times,serif" font-size="14" text-anchor="start">Indexes with</text><text x="557.62" y="-288.04" font-family="Times,serif" font-size="14" text-anchor="start">the least fields</text><text x="547.88" y="-274.04" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="552.38" y="-274.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">too_many_fields</text><text x="641.62" y="-274.04" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="edge17" class="edge"><title>closest_match-&gt;least_fields</title><path fill="none" stroke="#000" d="M583.39,-355.21C585.18,-347.2 587.21,-338.12 589.15,-329.46"/><polygon fill="#000" stroke="#000" points="592.76 -330.35 591.53 -319.83 585.93 -328.82 592.76 -330.35"/></g><g id="node15" class="node"><title>alphabetical_first</title><polygon fill="#d3d3d3" stroke="#000" points="681.5 -231.34 506.5 -231.34 506.5 -167.34 681.5 -167.34 681.5 -231.34"/><text x="564.75" y="-215.04" font-family="Times,serif" font-size="14" text-anchor="start">Index with</text><text x="546" y="-201.04" font-family="Times,serif" font-size="14" text-anchor="start">the alphabetically</text><text x="554.62" y="-187.04" font-family="Times,serif" font-size="14" text-anchor="start">smallest name</text><text x="514.5" y="-173.04" font-family="Times,serif" font-size="14" text-anchor="start">(</text><text x="519" y="-173.04" font-family="Times,serif" font-size="14" font-style="italic" text-anchor="start">alphabetically_comes_after</text><text x="669" y="-173.04" font-family="Times,serif" font-size="14" text-anchor="start">)</text></g><g id="edge18" class="edge"><title>least_fields-&gt;alphabetical_first</title><path fill="none" stroke="#000" d="M596.21,-268.17C595.96,-260.31 595.66,-251.34 595.38,-242.56"/><polygon fill="#000" stroke="#000" points="598.84 -242.51 595.02 -232.63 591.85 -242.74 598.84 -242.51"/></g><g id="edge19" class="edge"><title>alphabetical_first-&gt;selected</title><path fill="none" stroke="#000" d="M566.04,-167.02C554.14,-153.69 539.89,-137.73 526.27,-122.48"/><polygon fill="#000" stroke="#000" points="529.49 -120.71 520.22 -115.58 524.27 -125.37 529.49 -120.71"/></g></g></svg>